{% extends "projects/base.html" %}
{% load static %}

{% block title %}Font Inspector{% endblock %}

{% block content %}
<center>
<div class="container py-4" style="width: 100%; max-width: 700px; margin: auto;">
  <h1>Font Inspector</h1>
  <br>
  <form method="post" class="mb-4">
    {% csrf_token %}
    <div class="input-group">
      {{ form.url }}
      <button class="btn btn-primary" type="submit">Scan for Fonts</button>
      {% if rows %}
        <button class="btn btn-secondary" type="submit" name="download">Download CSV</button>
      {% endif %}
    </div>
    {% for err in form.url.errors %}
      <div class="text-danger small">{{ err }}</div>
    {% endfor %}
  </form>
  <br>
  {% if rows %}
  <div class="table-responsive">
    <table class="table table-dark table-striped align-middle">
      <thead>
        <tr>
          <th>Website</th><th>Family</th>
          <th>License Required</th><th>Font Source</th>
        </tr>
      </thead>
      <tbody>
        {% for r in rows %}
          <tr>
            <td>{{ r.website }}</td>
            <td>{{ r.family }}</td>
            <td>{{ r.license_required }}</td>
            <td>{{ r.font_source }}</td>
          </tr>
        {% endfor %}
      </tbody>
    </table>
  </div>
  {% endif %}
</div>
</center>
{% endblock %}
