{% extends "projects/base.html" %}
{% load static %}

{% block scripts %}
  {% include "includes/schemas/radio_tools_schema.html" %}
{% endblock scripts %}

{% block meta_tags %}
    {% include "includes/meta_tags/radio_tools_meta.html" %}
{% endblock meta_tags %}

{% block link_tags %}
    {{ block.super }}
    <link rel="canonical" href="https://www.bencritt.net/projects/radio-tools/">
{% endblock link_tags %}

{% block page_stylesheets %}
    <link href="{% static 'template_css/radio_tools.css' %}" rel="stylesheet">
{% endblock page_stylesheets %}

{% block title %}Radio Hobbyist Toolkit | Ham Radio & Amateur Radio Utilities{% endblock title %}

{% block content %}
<div class="container-fluid py-4">
    <div class="text-center">
        <h1 class="mb-4">Radio Hobbyist Toolkit</h1>
        <p class="lead text-muted mb-5">Free utilities for Ham Radio Operators, Shortwave Listeners, and Radio Enthusiasts.</p>
        
        <div class="card-container non-iframe-cards d-flex flex-wrap justify-content-center gap-4">

            <div class="card tool-card shadow-sm">
                <div class="card-body">
                    <h2 class="card-title h4">Repeater Finder</h2>
                    <img src="{% static 'img/all-projects/repeater-finder.webp' %}" alt="Repeater Finder" class="img-fluid rounded my-3">                
                    <p class="card-text small">Find open VHF and UHF repeaters along your driving route. Enter origin and destination to see frequencies, offsets, and tones sorted by mile marker.</p>
                    <a href="{% url 'projects:repeater_finder' %}" class="btn btn-primary mt-2">Open Finder</a>
                </div>
            </div>

            <div class="card tool-card shadow-sm">
                <div class="card-body">
                    <h2 class="card-title h4">Ham Radio Call Sign Lookup</h2>
                    <img src="{% static 'img/all-projects/ham-radio-call-sign-lookup.webp' %}" alt="Ham Radio Call Sign Lookup" class="img-fluid rounded my-3">                
                    <p class="card-text small">Search any US amateur radio call sign and view license class, grid square, expiration date, FRN, and trustee details.</p>
                    <a href="{% url 'projects:ham_radio_call_sign_lookup' %}" class="btn btn-primary mt-2">Open Lookup</a>
                </div>
            </div>

            <div class="card tool-card shadow-sm">
                <div class="card-body">
                    <h2 class="card-title h4">Band Plan Checker</h2>
                    <img src="{% static 'img/all-projects/band-plan-checker.webp' %}" alt="Band Plan Checker" class="img-fluid rounded my-3">                
                    <p class="card-text small">Enter any frequency to see which US amateur band it falls in, what modes are permitted, and whether your license class can transmit.</p>
                    <a href="{% url 'projects:band_plan_checker' %}" class="btn btn-primary mt-2">Open Checker</a>
                </div>
            </div>

            <div class="card tool-card shadow-sm">
                <div class="card-body">
                    <h2 class="card-title h4">Antenna Length Calculator</h2>
                    <img src="{% static 'img/all-projects/antenna-length-calculator.webp' %}"
                        alt="Antenna Length Calculator" class="img-fluid rounded my-3">
                    <p class="card-text small">Calculate element lengths for dipoles,
                    verticals, EFHW, J-poles, ground planes, loops, and ‚Öù-wave
                    verticals in feet and meters.</p>
                    <a href="{% url 'projects:antenna_calculator' %}"
                    class="btn btn-primary mt-2">Open Calculator</a>
                </div>
            </div>

            <div class="card tool-card shadow-sm">
                <div class="card-body">
                    <h2 class="card-title h4">Grid Square Converter</h2>
                    <img src="{% static 'img/all-projects/grid-square-converter.webp' %}"
                        alt="Grid Square Converter" class="img-fluid rounded my-3">
                    <p class="card-text small">Convert between Maidenhead grid squares
                    and coordinates at 4, 6, or 8 character precision, or find the
                    grid for any US ZIP code.</p>
                    <a href="{% url 'projects:grid_square_converter' %}"
                    class="btn btn-primary mt-2">Open Converter</a>
                </div>
            </div>

            <div class="card tool-card shadow-sm">
                <div class="card-body">
                    <h2 class="card-title h4">RF Exposure Calculator</h2>
                    <img src="{% static 'img/all-projects/rf-exposure-calculator.webp' %}"
                        alt="RF Exposure Calculator" class="img-fluid rounded my-3">
                    <p class="card-text small">Evaluate your amateur radio station's compliance with FCC Maximum
                Permissible Exposure (MPE) limits per OET Bulletin 65.
                Required by FCC Part 97.13(c)(1) for all amateur stations.</p>
                    <a href="{% url 'projects:rf_exposure_calculator' %}"
                    class="btn btn-primary mt-2">Open Calculator</a>
                </div>
            </div>

            <div class="card tool-card shadow-sm">
                <div class="card-body">
                    <h2 class="card-title h4">RF Exposure Calculator</h2>
                    <img src="{% static 'img/all-projects/coax-cable-loss-calculator.webp' %}"
                        alt="Coax Cable Loss Calculator" class="img-fluid rounded my-3">
                    <p class="card-text small">Calculate feed line attenuation, SWR mismatch loss, and power delivered to the antenna for RG-58, RG-213, LMR-400, and more.</p>
                    <a href="{% url 'projects:coax_cable_loss_calculator' %}"
                    class="btn btn-primary mt-2">Open Calculator</a>
                </div>
            </div>

        </div>  
        
        <div class="card-container iframe-cards d-flex flex-wrap justify-content-center gap-4 mt-4">

            <div class="card iframe-card-wrapper shadow-sm">
                <div class="card-body p-0 p-md-3">
                    <iframe src="{% url 'projects:repeater_finder' %}" title="Repeater Finder" loading="lazy" scrolling="yes"></iframe>
                    <a href="{% url 'projects:repeater_finder' %}" class="btn btn-secondary mt-3">Full Page View</a>
                </div>
            </div>

            <div class="card iframe-card-wrapper shadow-sm">
                <div class="card-body p-0 p-md-3">
                    <iframe src="{% url 'projects:ham_radio_call_sign_lookup' %}" title="Ham Radio Call Sign Lookup" loading="lazy" scrolling="yes"></iframe>
                    <a href="{% url 'projects:ham_radio_call_sign_lookup' %}" class="btn btn-secondary mt-3">Full Page View</a>
                </div>
            </div>

            <div class="card iframe-card-wrapper shadow-sm">
                <div class="card-body p-0 p-md-3">
                    <iframe src="{% url 'projects:band_plan_checker' %}" title="Band Plan Checker" loading="lazy" scrolling="yes"></iframe>
                    <a href="{% url 'projects:band_plan_checker' %}" class="btn btn-secondary mt-3">Full Page View</a>
                </div>
            </div>

            <div class="card iframe-card-wrapper shadow-sm">
                <div class="card-body p-0 p-md-3">
                    <iframe src="{% url 'projects:antenna_calculator' %}"
                            title="Antenna Length Calculator" loading="lazy"
                            scrolling="yes"></iframe>
                    <a href="{% url 'projects:antenna_calculator' %}"
                    class="btn btn-secondary mt-3">Full Page View</a>
                </div>
            </div>

            <div class="card iframe-card-wrapper shadow-sm">
                <div class="card-body p-0 p-md-3">
                    <iframe src="{% url 'projects:grid_square_converter' %}"
                            title="Grid Square Converter" loading="lazy"
                            scrolling="yes"></iframe>
                    <a href="{% url 'projects:grid_square_converter' %}"
                    class="btn btn-secondary mt-3">Full Page View</a>
                </div>
            </div>
            
            <div class="card iframe-card-wrapper shadow-sm">
                <div class="card-body p-0 p-md-3">
                    <iframe src="{% url 'projects:rf_exposure_calculator' %}"
                            title="RF Exposure Calculator" loading="lazy"
                            scrolling="yes"></iframe>
                    <a href="{% url 'projects:rf_exposure_calculator' %}"
                    class="btn btn-secondary mt-3">Full Page View</a>
                </div>
            </div>

            <div class="card iframe-card-wrapper shadow-sm">
                <div class="card-body p-0 p-md-3">
                    <iframe src="{% url 'projects:coax_cable_loss_calculator' %}"
                            title="RF Exposure Calculator" loading="lazy"
                            scrolling="yes"></iframe>
                    <a href="{% url 'projects:coax_cable_loss_calculator' %}"
                    class="btn btn-secondary mt-3">Full Page View</a>
                </div>
            </div>

        </div>
    </div>
</div>

<script>
    // Listen for resize messages from the child iframes (Repeater Finder, etc.)
    window.addEventListener('message', function(e) {
        // Ensure the message type is what we expect
        if (e.data.type === 'setHeight' && e.data.height) {
            const iframes = document.querySelectorAll('iframe');
            // Find which iframe sent the message
            for (let i = 0; i < iframes.length; i++) {
                if (iframes[i].contentWindow === e.source) {
                    // Update that specific iframe's height
                    iframes[i].style.height = e.data.height + 'px';
                    break;
                }
            }
        }
    });
</script>
{% endblock content %}