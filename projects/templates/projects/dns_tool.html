{% extends "projects/base.html" %}
{% load static %}

{% block meta_tags %}
  <!-- Meta to prevent caching, which will prevent CSRF token errors. -->
  <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">
  <meta http-equiv="Pragma" content="no-cache">
  <meta http-equiv="Expires" content="0">

  <meta name="description" content="The DNS Lookup Tool allows users to perform detailed DNS lookups for domain names, retrieving various DNS records including A, AAAA, MX, NS, CNAME, TXT, SOA, SRV, and CAA records. Use it for network troubleshooting and domain management.">
  <meta name="keywords" content="DNS Lookup, DNS Records, Domain Name System, A Records, MX Records, NS Records, CNAME Records, TXT Records, SOA Records, SRV Records, CAA Records">

  <!-- Open Graph -->
  <meta property="og:url" content="https://www.bencritt.net/projects/dns-lookup/">
  <meta property="og:type" content="website">
  <meta property="og:title" content="DNS Lookup Tool">
  <meta property="og:description" content="The DNS Lookup Tool allows users to perform DNS lookups for a specified domain name and retrieve various DNS records.">
  <meta property="og:image" content="https://www.bencritt.net/static/img/all-projects/dns-lookup.webp">
  <meta property="og:image:type" content="image/webp">
  <meta property="og:image:alt" content="DNS Lookup Tool Screenshot">
  <meta property="og:site_name" content="Ben Crittenden">

  <!-- Twitter -->
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:domain" content="bencritt.net">
  <meta name="twitter:url" content="https://www.bencritt.net/projects/dns-lookup/">
  <meta name="twitter:title" content="DNS Lookup Tool">
  <meta name="twitter:description" content="The DNS Lookup Tool allows users to perform DNS lookups for a specified domain name and retrieve various DNS records.">
  <meta name="twitter:image" content="https://www.bencritt.net/static/img/all-projects/dns-lookup.webp">
  <meta name="twitter:creator" content="@bencritt89"/>

  <!-- Structured data (schema) -->
  <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "SoftwareApplication",
      "name": "DNS Lookup Tool",
      "description": "Perform DNS lookups for various DNS records including A, AAAA, MX, NS, CNAME, TXT, SOA, SRV, and CAA records.",
      "url": "https://www.bencritt.net/projects/dns-lookup/",
      "applicationCategory": "Network Utility",
      "operatingSystem": "Web-based",
      "image": "https://www.bencritt.net/static/img/all-projects/dns-lookup.webp",
      "creator": {
        "@type": "Person",
        "name": "Ben Crittenden",
        "url": "https://www.bencritt.net"
      },
      "featureList": [
        "Perform DNS lookups for various DNS record types.",
        "Retrieve detailed DNS information useful for network troubleshooting and domain management.",
        "Accessible from any web-enabled device with a user-friendly interface.",
        "Developed with Python and Django for reliable DNS resolution."
      ]
    }
  </script>
{% endblock meta_tags %}

{% block link_tags %}
  <link rel="canonical" href="https://www.bencritt.net/projects/dns-lookup/">
  <link href="{% static 'template-css/dns-tool-css.css' %}" rel="stylesheet">
{% endblock link_tags %}

{% block title %}DNS Lookup Tool | Perform Detailed DNS Record Checks Online{% endblock title %}

{% block content %}
  <section class="py-4">
    <div class="container">
      <header class="text-center mb-4">
        <h1 class="mb-2">DNS Lookup Tool</h1>
        <p class="text-muted mb-0">
          Enter a domain name to retrieve common DNS record types (A, AAAA, MX, NS, CNAME, TXT, SOA, SRV, CAA).
        </p>
      </header>

      <div class="row justify-content-center">
        <div class="col-12 col-lg-8">

          <div class="card shadow-sm mb-4">
            <div class="card-body">

              {% if form.non_field_errors %}
                <div class="alert alert-danger" role="alert">
                  {{ form.non_field_errors }}
                </div>
              {% endif %}

              <form method="post" class="d-grid gap-3" novalidate>
                {% csrf_token %}
                {{ form.as_p }}

                <div class="d-flex flex-wrap gap-2 justify-content-center">
                  <button type="submit" id="dns-lookup-btn" class="btn btn-primary" aria-label="Look Up DNS Info">
                    Look Up DNS Info
                  </button>
                  <a href="{% url 'projects:it_tools' %}" class="btn btn-secondary">
                    Go to All IT Tools
                  </a>
                </div>
              </form>

              {% if error_message %}
                <div class="alert alert-danger mt-3 mb-0" role="alert">
                  {{ error_message }}
                </div>
              {% endif %}
            </div>
          </div>

          {% if results %}
            <section aria-label="DNS Lookup Results">
              <div class="text-center mb-3">
                <h2 class="h5 mb-0">DNS Information for {{ form.cleaned_data.domain }}</h2>
              </div>

              <div class="table-responsive">
                <table class="table table-striped table-bordered align-middle">
                  <colgroup>
                    <col style="width: 18%;">
                    <col style="width: 82%;">
                  </colgroup>
                  <thead>
                    <tr>
                      <th scope="col">Record Type</th>
                      <th scope="col">Details</th>
                    </tr>
                  </thead>
                  <tbody>
                    {% for record_type, records in results.items %}
                      <tr>
                        <th scope="row">{{ record_type }}</th>
                        <td>
                          {% if records %}
                            <ul class="mb-0">
                              {% for record in records %}
                                <li>{{ record }}</li>
                              {% endfor %}
                            </ul>
                          {% else %}
                            <span class="text-muted">No records found</span>
                          {% endif %}
                        </td>
                      </tr>
                    {% endfor %}
                  </tbody>
                </table>
              </div>
            </section>
          {% endif %}

          <div class="text-center mt-4">
            <a href="https://github.com/BenCritt/profile_workspace_heroku"
               target="_blank"
               rel="noopener noreferrer"
               data-bs-toggle="tooltip"
               title="View the source code for this app."
               aria-label="View the source code for this app on GitHub"
               class="btn btn-outline-secondary">
              View source on GitHub
            </a>

            <p class="mt-3 text-muted small mb-0">
              This tool was created by
              <a href="{% url 'projects:home' %}" class="content-link" title="Ben Crittenden â€“ IT Professional">Ben Crittenden</a>,
              an IT professional with experience in web development, systems administration, and project management.
            </p>
          </div>

        </div>
      </div>
    </div>
  </section>
{% endblock content %}