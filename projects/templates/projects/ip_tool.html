{% extends "projects/base.html" %}
{% load static %}

{% block title %}
IP Address Lookup Tool | Reverse DNS, Geolocation, and Blacklist Check
{% endblock title %}

{% block meta_tags %}
  <!-- Meta to prevent caching, which will prevent CSRF token errors. -->
  <meta http-equiv="Cache-Control"  content="no-cache, no-store, must-revalidate">
  <meta http-equiv="Pragma"         content="no-cache">
  <meta http-equiv="Expires"        content="0">

  <!-- Meta tags providing essential information about the page to search engines. -->
  <meta name="description" content="Use the IP Address Lookup Tool to perform reverse DNS lookups, retrieve PTR records, geolocation data, and blacklist status for any IP address. Access detailed network diagnostics with ease.">
  <meta name="keywords" content="IP, Address, Lookup, tool">

  <!-- Open Graph -->
  <meta property="og:url" content="https://www.bencritt.net/projects/ip-tool/">
  <meta property="og:type" content="website">
  <meta property="og:title" content="IP Address Lookup Tool">
  <meta property="og:description" content="The IP Address Lookup Tool enables users to perform reverse DNS lookups to retrieve information for a specified IP address, including PTR records, geolocation data, and blacklist status.">
  <meta property="og:image" content="https://www.bencritt.net/static/img/all-projects/ip-tool.webp">
  <meta property="og:image:type" content="image/webp">
  <meta property="og:image:alt" content="IP Address Lookup Tool Screenshot">
  <meta property="og:site_name" content="Ben Crittenden">

  <!-- Twitter -->
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:domain" content="bencritt.net">
  <meta name="twitter:url" content="https://www.bencritt.net/projects/ip-tool/">
  <meta name="twitter:title" content="IP Address Lookup Tool">
  <meta name="twitter:description" content="The IP Address Lookup Tool enables users to perform reverse DNS lookups to retrieve information for a specified IP address, including PTR records, geolocation data, and blacklist status.">
  <meta name="twitter:image" content="https://www.bencritt.net/static/img/all-projects/ip-tool.webp">
  <meta name="twitter:creator" content="@bencritt89">

  <!-- Schema for SEO -->
  <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "SoftwareApplication",
      "name": "IP Address Lookup Tool",
      "description": "The IP Address Lookup Tool enables users to perform reverse DNS lookups to retrieve PTR records for a specified IP address, providing information about the domain name associated with the IP Address.",
      "url": "https://www.bencritt.net/projects/ip-tool/",
      "applicationCategory": "Network Utility",
      "operatingSystem": "Web-based",
      "image": "https://www.bencritt.net/static/img/all-projects/ip-tool.webp",
      "creator": {
        "@type": "Person",
        "name": "Ben Crittenden",
        "url": "https://www.bencritt.net"
      },
      "featureList": [
        "Performs reverse DNS lookups to retrieve PTR records for specified IP addresses.",
        "Displays the domain name associated with an IP address, useful for network diagnostics and verification.",
        "Web-based application, accessible from any device with an internet connection.",
        "Simple and intuitive interface for entering IP addresses and viewing reverse DNS results.",
        "Built using Python and Django, utilizing powerful DNS libraries for accurate results and error handling."
      ]
    }
  </script>
{% endblock meta_tags %}

{% block link_tags %}
  <!-- Canonical link to help avoid duplicate content issues. -->
  <link rel="canonical" href="https://www.bencritt.net/projects/ip-tool/">

  <!-- Page CSS -->
  <link href="{% static 'template-css/ip-tool-css.css' %}" rel="stylesheet">
{% endblock link_tags %}

{% block content %}
  <section class="py-4">
    <div class="container">
      <div class="row justify-content-center">
        <div class="col-12 col-lg-8">

          <header class="text-center mb-4">
            <h1 class="mb-2">IP Address Lookup Tool</h1>
            <p class="mb-0 text-muted">
              Reverse DNS (PTR), geolocation, and blacklist status in one report.
            </p>
          </header>

          <div class="card shadow-sm">
            <div class="card-body">
              {% if form.non_field_errors %}
                <div class="alert alert-danger" role="alert">
                  {{ form.non_field_errors }}
                </div>
              {% endif %}

              <form method="post" novalidate>
                {% csrf_token %}
                {{ form.as_p }}

                <div class="d-grid gap-2">
                  <input
                    type="submit"
                    id="ip-lookup-btn"
                    class="btn btn-primary"
                    value="Look Up IP Address Info"
                    aria-label="Look Up IP Address Info">
                  <a href="{% url 'projects:it_tools' %}" class="btn btn-secondary">
                    Go to All IT Tools
                  </a>
                </div>
              </form>

              {% if error_message %}
                <div class="alert alert-danger mt-3 mb-0" role="alert">
                  {{ error_message }}
                </div>
              {% endif %}
            </div>
          </div>

          {% if results %}
            <section class="mt-4">
              <h2 class="h5 text-center mb-3">
                IP Address Information for {{ form.cleaned_data.ip_address }}
              </h2>

              <div class="card shadow-sm">
                <div class="card-body">
                  <div class="table-responsive">
                    <table class="table mb-0">
                      <thead>
                        <tr>
                          <th scope="col">Information Type</th>
                          <th scope="col">Details</th>
                        </tr>
                      </thead>
                      <tbody>
                        <tr>
                          <th scope="row">PTR Records</th>
                          <td>
                            {% if results.PTR %}
                              <ul class="mb-0">
                                {% for record in results.PTR %}
                                  <li>{{ record }}</li>
                                {% endfor %}
                              </ul>
                            {% else %}
                              No PTR records found
                            {% endif %}
                          </td>
                        </tr>

                        {% if results.Geolocation %}
                          <tr>
                            <th scope="row">Geolocation</th>
                            <td>
                              <ul class="mb-0">
                                {% for key, value in results.Geolocation.items %}
                                  <li><strong>{{ key }}:</strong> {{ value }}</li>
                                {% endfor %}
                              </ul>
                            </td>
                          </tr>
                        {% endif %}

                        {% if results.Blacklist %}
                          <tr>
                            <th scope="row">Blacklist Status</th>
                            <td>
                              <ul class="mb-0">
                                {% for status in results.Blacklist %}
                                  <li>{{ status }}</li>
                                {% endfor %}
                              </ul>
                            </td>
                          </tr>
                        {% endif %}

                        {% if results.ISP %}
                          <tr>
                            <th scope="row">ISP</th>
                            <td>{{ results.ISP }}</td>
                          </tr>
                        {% endif %}

                        {% if results.ASN %}
                          <tr>
                            <th scope="row">ASN</th>
                            <td>{{ results.ASN }}</td>
                          </tr>
                        {% endif %}
                      </tbody>
                    </table>
                  </div>
                </div>
              </div>

              <div class="text-center mt-4">
                <a
                  href="https://github.com/BenCritt/profile_workspace_heroku"
                  target="_blank"
                  rel="noopener noreferrer"
                  class="btn btn-outline-secondary"
                  data-bs-toggle="tooltip"
                  title="View the source code for this app.">
                  <svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" fill="currentColor" class="bi bi-github me-1" viewBox="0 0 16 16" aria-hidden="true" focusable="false">
                    <path d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.012 8.012 0 0 0 16 8c0-4.42-3.58-8-8-8z"/>
                  </svg>
                  View source on GitHub
                </a>

                <p class="mt-3 text-muted small mb-0">
                  This tool was created by
                  <a href="{% url 'projects:home' %}" class="content-link" title="Ben Crittenden â€“ IT Professional">Ben Crittenden</a>,
                  an IT professional with experience in web development, systems administration, and project management.
                </p>
              </div>
            </section>
          {% endif %}

        </div>
      </div>
    </div>
  </section>
{% endblock content %}